{"pages":[],"posts":[{"title":"P1004 方格取数","text":"题目描述设有$N×N$的方格图$(N≤9)$，我们将其中的某些方格中填入正整数，而其他的方格中则放入数字$0$。如下图所示（见样例）:12345678910A 0 0 0 0 0 0 0 0 0 0 13 0 0 6 0 0 0 0 0 0 7 0 0 0 0 0 0 14 0 0 0 0 0 21 0 0 0 4 0 0 0 0 15 0 0 0 0 0 0 14 0 0 0 0 0 0 0 0 0 0 0 0 0 0 B 某人从图的左上角的$A$点出发，可以向下行走，也可以向右走，直到到达右下角的$B$点。在走过的路上，他可以取走方格中的数（取走后的方格中将变为数字$0$）。此人从$A$点到$B$点共走两次，试找出$2$条这样的路径，使得取得的数之和为最大。 输入输出格式输入格式 输入的第一行为一个整数$N$（表示$N×N$的方格图），接下来的每行有三个整数，前两个表示位置，第三个数为该位置上所放的数。一行单独的$0$表示输入结束。 输出格式 只需输出一个整数，表示$2$条路径上取得的最大的和。 输入样例 1234567891082 3 132 6 63 5 74 4 145 2 215 6 46 3 157 2 140 0 0 输出样例 167 说明NOIP 2000 提高组第四题 Solution动态规划题，考虑四维数组。 设$f[i][j][k][h]$，表示第一条路径走到$(i,j)$，第二条路径走到$(k,h)$的最优方案，得到动态转移方程： 1f[i][j][k][h]=max(f[i-1][j][k-1][h],f[i-1][j][k][h-1],f[i][j-1][k-1][h],f[i][j-1][k][h-1]+num(i,j)); Code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include&lt;iostream&gt;#include&lt;cstdio&gt;using namespace std;int n,a[12][12][12][12],num[12][12],x,y,z;int main(){ scanf(\"%d\",&amp;n); while(1) { scanf(\"%d%d%d\",&amp;x,&amp;y,&amp;z); if(x==0) break; num[x][y]=z; } for(int i=1;i&lt;=n;i++) { for(int j=1;j&lt;=n;j++) { for(int k=1;k&lt;=n;k++) { for(int h=1;h&lt;=n;h++) { int A=a[i][j][k][h]; if(i==k&amp;&amp;j==h) a[i][j][k][h]=max(a[i][j][k][h],a[i-1][j][k-1][h]+num[i][j]); else a[i][j][k][h]=max(a[i][j][k][h],a[i-1][j][k-1][h]+num[i][j]+num[k][h]); if(i==k&amp;&amp;j==h) a[i][j][k][h]=max(a[i][j][k][h],a[i-1][j][k][h-1]+num[i][j]); else a[i][j][k][h]=max(a[i][j][k][h],a[i-1][j][k][h-1]+num[i][j]+num[k][h]); if(i==k&amp;&amp;j==h) a[i][j][k][h]=max(a[i][j][k][h],a[i][j-1][k-1][h]+num[i][j]); else a[i][j][k][h]=max(a[i][j][k][h],a[i][j-1][k-1][h]+num[i][j]+num[k][h]); if(i==k&amp;&amp;j==h) a[i][j][k][h]=max(a[i][j][k][h],a[i][j-1][k][h-1]+num[i][j]); else a[i][j][k][h]=max(a[i][j][k][h],a[i][j-1][k][h-1]+num[i][j]+num[k][h]); } } } } printf(\"%d\",a[n][n][n][n]); return 0;}","link":"/2019/04/01/P1004-方格取数/"}],"tags":[{"name":"题解","slug":"题解","link":"/tags/题解/"},{"name":"动态规划","slug":"动态规划","link":"/tags/动态规划/"}],"categories":[]}